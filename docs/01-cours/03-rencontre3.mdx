---
hide_table_of_contents: true
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# ‚öôÔ∏è Cr√©ation de fonctions

# üèóÔ∏è en construction üèó

<Tabs queryString="onglet">

    <TabItem value="theorie" label="Th√©orie" default>

        :::info Cr√©er nos propres fonctions

        Il arrive parfois qu'on va souhaiter cr√©er nos propres fonctions r√©utilisables pour repr√©senter des instructions
        qu'on aimerait pouvoir r√©utiliser facilement sans avoir √† les r√©p√©ter √† chaque fois. Pour d√©finir une fonction,
        il faut le mot cl√©e "def" suivi du nom qu'on souhaite donn√© √† la fonction. Par la suite, entre parenth√®ses, nous
        mettons des noms des param√®tres que la valeur s'attends √† recevoir. Les instructions de la fonction doivent √™tre
        intenter (touche TAB). Si la fonction retourne une valeur, il faut utiliser le mot cl√©e "return" suivi de
        l'expression repr√©sentant la valeur retourn√©. La d√©finition de la fonction doit √™tre avant sa premi√®re
        utilisation. Il est possible de mettre en commentaire √† l'aide du symbole """ des indications concernant
        l'utilisation de la fonction.

        ```python
        # D√©finition de la fonction √©nergie-cin√©tique
        def energie_cinetique(masse, vitesse):
        """
        Calcule l'√©nergie cin√©tique d'un objet en mouvement.

        Formule :
        E_c = 0.5 * m * v^2

        Param√®tres :
        masse (float): Masse de l'objet en kilogrammes (kg)
        vitesse (float): Vitesse de l'objet en m√®tres par seconde (m/s)

        Retourne :
        float : √ânergie cin√©tique en Joules (J)

        Exemple d'utilisation :
        >>> energie_cinetique(10, 5)
        125.0
        """
        nb_joute = 0.5 * masse * pow(vitesse,2)
        return nb_joute

        # Exemple avec diff√©rentes valeurs
        objet1 = energie_cinetique(2, 3) # Masse de 2 kg, vitesse de 3 m/s
        objet2 = energie_cinetique(5, 7) # Masse de 5 kg, vitesse de 7 m/s

        # Affichage des r√©sultats
        print("√ânergie cin√©tique de l'objet 1 :", objet1, "Joules")
        print("√ânergie cin√©tique de l'objet 2 :", objet2, "Joules")
        ```

        Dans l'exemple ci-haut, la fonction "energie_cinetique" est appel√© √† la ligne #7 et √† la ligne #8.
        Lors du premier appel, la valeur de "masse" sera de 2 et la valeur de "vitesse" sera de 3.
        Lors du second appel, la valeur de "masse" sera de 5 et la valeur de "vitesse" sera de 7.

        :::





        Quand on approche un probl√®me, on peut le d√©couper en sous-probl√®mes.

        Pour cela on peut trouver une solution au sous probl√®me etc.

        DEMO SUR LA SEQUENCE DE 1 11 21 etc

        ## D√©finition d'une fonction simple

        ```python
        def double(x):
            return x*x
        ```

        D√©finir une fonction ne fait rien, on se donne juste un outil qu'on
        pourra utiliser plus tard. Un peu comme quand on √©crit une recette, on a
        rien √† manger mais on pourra suivre la recette plus tard.

        ## Appel d'une fonction

        On va regarder ce qui se passe sur un exemple simple
        ```python
        def double(x):
            return x*x

        a = double(4)
        print(a)
        ```
        1. quand on d√©finit la fonction, il ne se passe rien, les 2 premi√®res lignes ne font rien
        2. **double(4)** appelle la fonction double
        - le param√®tre est √©valu√©, √ßa donne 4
        - 4 remplace *x* comme valeur du param√®tre
        - la fonction calcule *x * x* soit *4 * 4* soit 16
        - *return* renvoie la valeur 16
        - alors *double(4)* vaut 16
        3. on affiche la valeur avec un print

        ## Param√®tre √† la d√©finition et √† l'appel

        Lors d'un appel d'une fonction, on √©value le param√®tre fourni avant de le
        passer √† la fonction. Sur un exemple un peu plus complexe:
        ```python
        def double(x):
            return x*x

        a = 25
        print( double( double(4) + double( 5 + double(a) ) ) )
        ```
        Encore une fois, quand √ßa se complique le mode d√©bogage devient notre
        meilleur ami pour ne pas abandonner.

        ## Typage (optionnel mais bien utile) d'une fonction

        ## Param√®tre nomm√©

        ```python
        def double(*x, ):
            return x*x

        a = 25
        print( double( double(4) + double( 5 + double(a) ) ) )
        ```

        ## Param√®tre avec valeur par d√©faut


        ```python
        def racine(nombre, base=2):
            # ton code ici
            return 1
        ```


        ## Exercice fonction simple

        On veut faire une fonction simple qui prend un nombre et qui renvoie son carr√©.

        D√©finis cette fonction et appelle la avec un nombre de ton choix.

        TODO lien vers la port√©e

        ## Mais combien vaut x?

        ```python
        def calculComplexe(a, b, c):
            x = a**b
            y = c*(b-a)
            return a**b + c*(b-a)

        x = 5
        calculComplexe(3,5,7)
        print(x)
        ```

        Combien vaut x dans calculComplexe? dans le script principal? C'est le m√™me x?

        TODO lien vers le shadowing et la pile d'appels dans le d√©bogueur

    </TabItem>

    <TabItem value="simple" label="Fonction simple">

        :::info Fonction simple

        Une fonction est un bloc de code r√©utilisable qui effectue une t√¢che sp√©cifique.<br />
        Elle est d√©finie √† l'aide du mot-cl√© `def`, suivi du nom de la fonction, de parenth√®ses et d'un `:`.<br />

        Le code √† l'int√©rieur de la fonction est indent√© avec une tabulation (touche `TAB`).<br />
        En Python, cette indentation est essentielle pour d√©limiter le bloc de code de la fonction.

        ```python
        def saluer():
            print("Bonjour!")
        ```

        Dans cet exemple, nous avons d√©fini une fonction nomm√©e `saluer` qui affiche "Bonjour!" lorsqu'elle est appel√©e.

        Une fois d√©finie, la fonction peut √™tre appel√©e √† tout moment dans le code en utilisant son nom suivi de parenth√®ses.

        ```python
        saluer()  # Appel de la fonction
        ```

        *Appeler* une fonction se fait en √©crivant son nom suivi de parenth√®ses.<br />
        Lorsqu'une fonction est appel√©e, le code √† l'int√©rieur de la fonction est ex√©cut√©.

        :::

    </TabItem>

    <TabItem value="parametres" label="Param√®tres">

        :::info Param√®tres de fonction

        Les fonctions peuvent accepter des param√®tres, qui sont des valeurs d'entr√©e que la fonction peut utiliser pour
        effectuer son travail.<br />
        Lorsqu'une fonction est appel√©e, les arguments fournis sont associ√©s aux param√®tres d√©finis dans la fonction.

        ```python showLineNumbers
        def saluer(nom):
            print(f"Bonjour, {nom}!")

        saluer("Alice")  # Affiche "Bonjour, Alice!"
        ```

        Dans cet exemple, la fonction `saluer` prend un param√®tre `nom` et affiche un message de salutation en utilisant
        ce param√®tre.

        :::

    </TabItem>

    <TabItem value="retour" label="Retour">

        :::info Retour de fonction

        Une fonction peut retourner une valeur √† l'aide du mot-cl√© `return`.<br />
        Lorsqu'une fonction est appel√©e, elle ex√©cute son code et renvoie la valeur sp√©cifi√©e par `return` √† l'endroit o√π elle a √©t√© appel√©e.<br />
        Si aucune valeur n'est sp√©cifi√©e, la fonction renvoie la valeur `None` par d√©faut.

        ```python showLineNumbers
        def carre(x):
            return x * x

        resultat = carre(5)
        print(resultat)  # Affiche 25
        ```

        Dans cet exemple, la fonction `carre` prend un param√®tre `x`, calcule son carr√© et le retourne.<br />
        La valeur retourn√©e est ensuite stock√©e dans la variable `resultat`.

        :::

        ---

        :::tip Retour avec plusieurs valeurs

        Une fonction peut aussi retourner plusieurs valeurs en les s√©parant par des virgules.<br />
        Lorsqu'une fonction retourne plusieurs valeurs, elles sont renvoy√©es sous forme de *tuple* (une structure de donn√©es que nous verrons plus tard).

        ```python showLineNumbers
        def diviser(a, b):
            quotient = a / b
            reste = a % b
            return quotient, reste

        q, r = diviser(10, 3)
        print(f"Quotient: {q}, Reste: {r}")  # Affiche "Quotient: 3.3333333333333335, Reste: 1"
        ```

        Dans cet exemple, la fonction `diviser` retourne √† la fois le quotient et le reste de la division.<br />
        Ces valeurs sont ensuite assign√©es √† deux variables distinctes, s√©par√©es par une virgule lors de l'appel de la fonction.

        :::

    </TabItem>

    <TabItem value="portee" label="Port√©e">

        :::info Port√©e des variables

        La port√©e d'une variable d√©termine o√π cette variable peut √™tre acc√©d√©e dans le code.<br />
        En Python, il existe deux types principaux de port√©e : locale et globale.

        - **Port√©e locale** : Une variable d√©finie √† l'int√©rieur d'une fonction est locale √† cette fonction et ne peut pas √™tre acc√©d√©e en dehors de celle-ci.
        - **Port√©e globale** : Une variable d√©finie en dehors de toute fonction est globale et peut √™tre acc√©d√©e depuis n'importe quelle fonction dans le m√™me module.

        ```python showLineNumbers
        x = 10  # Variable globale

        def ma_fonction():
            y = 5  # Variable locale
            print(f"Valeur locale y: {y}")
            print(f"Valeur globale x: {x}")

        ma_fonction()
        print(f"Valeur globale x: {x}")
        # print(y)  # Cela provoquerait une erreur car y n'est pas d√©fini ici
        ```

        Dans cet exemple, `x` est une variable globale accessible √† l'int√©rieur de `ma_fonction`, tandis que `y` est une variable locale accessible uniquement √† l'int√©rieur de cette fonction.

        :::

    </TabItem>

    <TabItem value="pile" label="Pile d'appels">

        :::info Appels

        Les fonctions peuvent appeler d'autres fonctions.<br />
        Cela est utile pour d√©composer des t√¢ches complexes en sous-t√¢ches plus simples.

        ```python showLineNumbers
        def ajouter(x, y):
            return x + y

        def multiplier(x, y):
            return x * y

        def calculer_expression(a, b, c):
            somme = ajouter(a, b)
            resultat = multiplier(somme, c)
            return resultat

        valeur = calculer_expression(2, 3, 4)
        print(valeur)  # Affiche 20
        ```

        Dans cet exemple, la fonction `calculer_expression` appelle les fonctions `ajouter` et `multiplier` pour
        effectuer une s√©rie de calculs.

        :::

        ---

        :::note Pile d'appels

        Lorsqu'une fonction est appel√©e, elle est ajout√©e √† la *pile d'appels*.<br />
        La pile d'appels est une structure de donn√©es qui suit le principe LIFO (Last In, First Out), ce qui signifie que la derni√®re fonction appel√©e est la premi√®re √† √™tre termin√©e.<br />
        Cela permet de g√©rer les appels imbriqu√©s de fonctions et de revenir √† l'√©tat pr√©c√©dent une fois qu'une fonction a termin√© son ex√©cution.

        ```python showLineNumbers
        def fonction_a():
            print("Fonction A")
            fonction_b()

        def fonction_b():
            print("Fonction B")

        fonction_a()
        ```

        Dans cet exemple, lorsque `fonction_a` est appel√©e, elle appelle `fonction_b`, qui est ajout√©e √† la pile d'appels.<br />
        Une fois que `fonction_b` a termin√© son ex√©cution, le contr√¥le revient √† `fonction_a`.

        :::

        ---

        :::info D√©bogueur

        Le d√©bogueur permet d'inspecter tous les d√©tails de la pile d'appels.<br />

        Copiez le code ci-dessous dans un script, mettez un point d'arr√™t sur la ligne 12 (`valeur = ...`) et ex√©cutez le script en mode d√©bogage.

        ```python showLineNumbers
        def ajouter(x, y):
            return x + y

        def multiplier(x, y):
            return x * y

        def calculer_expression(a, b, c):
            somme = ajouter(a, b)
            resultat = multiplier(somme, c)
            return resultat

        valeur = calculer_expression(2, 3, 4)
        print(valeur)  # Affiche 20
        ```

        Pour *entrer* dans les fonctions appel√©es en mode d√©bogage, il faut utiliser le bouton **Step Into** <img src={require('/img/icons/stepinto.png').default} alt="Step Into" width="24" style={{ verticalAlign: 'middle' }} />.<br />
        Lorsque vous entrez dans la fonction `calculer_expression`, vous voyez :
        - cette fonction s'ajouter au sommet de la pile d'appels (√† gauche),
        - les param√®tres `a`, `b` et `c` appara√Ætre dans la liste des variables (√† droite) :

        <img src={require('/img/recettes/pile_appels1.png').default} width="70%"/>

        Si vous appuyez de nouveau sur <img src={require('/img/icons/stepinto.png').default} alt="Step Into" width="24" style={{ verticalAlign: 'middle' }} />, vous entrez dans la fonction `ajouter`.<br />
        Vous pouvez voir que la fonction `ajouter` est maintenant au sommet de la pile d'appels, et les param√®tres `x` et `y` sont affich√©s dans la liste des variables :
        <img src={require('/img/recettes/pile_appels2.png').default} width="70%"/>
        Remarquez que les param√®tres `a`, `b` et `c` de `calculer_expression` ne sont plus visibles, car vous √™tes maintenant dans la fonction `ajouter` et `a`, `b` et `c` sont **hors de port√©e**.

        Vous pouvez cliquer sur le nom de la fonction `calculer_expression` dans la pile d'appels pour revenir √† cette fonction et voir ses param√®tres √† nouveau :
        <img src={require('/img/recettes/pile_appels3.png').default} width="70%"/>

        :::

        ---

        :::tip Trace

        Lorsque vous faite une trace d'un code avec des appels de fonctions, il est n√©cessaire de noter la pile d'appels et les variables locales √† chaque √©tape.

        Le d√©bogueur est alors le meilleur outil pour valider votre trace... sauf en examen!

        :::

    </TabItem>

    <TabItem value="exercices" label="Exercices">

        ## ‚úèÔ∏è Exercices de compr√©hension

        :::info Exercice - APPEL DE FONCTION
        Sans ex√©cuter le code, qu'affichera le programme ci-dessous?<br />
        Faites la trace de l'ex√©cution.<br />
        En situation d'examen, ce type de question serait √† faire sans l'ordinateur.
        ```python showLineNumbers
        def fonction_lineaire(a, x, b) :
            print("appel de la fonction")
            resultat = a * x + b
            return resultat

        x = 5
        y = 10
        z = 2
        r1 = fonction_lineaire(x, z, y)
        x -= 3
        r2 = fonction_lineaire(x, y, z) # Attention √† l'ordre des param√®tres
        print(r1, r2)
        ```
        Validez votre trace en ex√©cutant le code dans un script en mode d√©bogage.
        :::

        ---

        :::info Exercice - Appel de fonction avec param√®tres
        Faites la trace de l'ex√©cution de ce code :
        ```python showLineNumbers
        def triple(x):
            print("appel de triple")
            return 3 * x

        def double_et_triple(x):
            print("appel de double_et_triple")
            return 2 * x + triple(x)

        val = 4
        res = double_et_triple(val)
        print(res)
        ```
        Validez votre trace en l'ex√©cutant en mode d√©bogage.
        :::

        ---

        :::info Exercice - Appel de fonction avec param√®tres 2
        Faites la trace de l'ex√©cution de ce code :
        ```python showLineNumbers
        def ajoute_cinq(x):
            print("appel de ajoute_cinq")
            return x + 5

        def carre(x):
            print("appel de carre")
            return x * x

        def calcul_final(a, b):
            print("appel de calcul_final")
            return carre(a) + ajoute_cinq(b)

        x = 2
        y = 3
        resultat = calcul_final(x, y)
        print(resultat)
        ```
        Validez votre trace en l'ex√©cutant en mode d√©bogage.
        :::

        ---

        ## üî® Exercices de cr√©ation

        Pour les exercices de cette section, vous devez cr√©er des fichiers `.py` dans un nouveau projet PyCharm.

        :::info Exercice - Bonjour
        √âcris une fonction `dire_bonjour()` qui affiche simplement le message **"Bonjour!"** √† l‚Äô√©cran.<br/>
        Ensuite, modifie la fonction pour qu‚Äôelle prenne un **param√®tre** `prenom` et affiche :
        ```python
        Bonjour, Alice!
        ```
        lorsqu‚Äôon appelle `dire_bonjour("Alice")`.
        :::

        ---

        :::info Exercice - Conversion Celsius ‚Üí Fahrenheit
        √âcrivez une fonction `celsius_vers_fahrenheit(celsius)` qui re√ßoit une temp√©rature en **¬∞C** et retourne sa valeur
        en **¬∞F** gr√¢ce √† la formule

        $$
        \text{¬∞F} = \left( \text{¬∞C} \times \frac{9}{5} \right) + 32
        $$

        Exemples d‚Äôappels attendus :
        ```python
        print(celsius_vers_fahrenheit(0)) # 32.0
        print(celsius_vers_fahrenheit(100)) # 212.0
        ```
        :::

        ---

        :::info Exercice - Aire d‚Äôun rectangle
        √âcrivez une fonction `aire_rectangle(longueur, largeur)` qui calcule et **retourne** l‚Äôaire d‚Äôun rectangle.<br />
        Puis, appellez la fonction pour afficher l‚Äôaire d‚Äôun rectangle de 5 m par 3 m.
        :::

        ---

        :::info Exercice - R√©utilisation de fonctions

        1) √âcrivez une fonction `aire_rectangle(longueur, largeur)` qui calcule et **retourne** l‚Äôaire d‚Äôun rectangle.

        2) √âcrivez une deuxi√®me fonction `volume_prisme(longueur, largeur, hauteur)` qui calcule et **retourne** le
        volume d‚Äôun prisme rectangulaire.

        üëâ Cette deuxi√®me fonction doit **r√©utiliser** (appeler) votre fonction `aire_rectangle` pour calculer la base du prisme avant de la
        multiplier par la hauteur.

        3) Testez vos fonctions en affichant :
        - l‚Äôaire d‚Äôun rectangle de 5 √ó 3
        - le volume d‚Äôun prisme de 5 √ó 3 √ó 4

        *Objectif :* pratiquer la d√©composition d‚Äôun probl√®me en plusieurs fonctions r√©utilisables.
        :::

        ---

        :::info Exercice - √âNERGIE CIN√âTIQUE

        √âcrivez une fonction permettant de calculer l'√©nergie cin√©tique $E$ en utilisant la formule :

        $$
        E = \frac{m \times v^2}{2},
        $$

        o√π $m$ est la masse et $v$ la vitesse.

        Votre fonction doit se trouver dans un module nomm√© `sciences_nature` (donc dans un fichier nomm√© `sciences_nature.py`).<br />
        Dans un script Python (un autre fichier `.py`) :
        - importez le module,
        - appelez votre fonction avec diff√©rentes valeurs,
        - affichez les r√©sultats.

        :::

        ---

        :::info Exercice - FORCE GRAVITATIONNELLE

        Dans le m√™me module cr√©√© √† l'exercice pr√©c√©dent, ajoutez une fonction permettant de calculer la force gravitationnelle en utilisant la loi de la gravitation universelle de Newton doit la formule est :

        $$
        F = \frac{G \times m1 \times m2}{r^2},
        $$

        o√π :
        - $G = 6.674 \times 10^{-11}$ (constante gravitationnelle),
        - $m1$ et $m2$ sont les masses en kg,
        - $r$ est la distance en m√®tres.

        Dans un script Python (√ßa peut √™tre le m√™me qu'√† l'exercice pr√©c√©dent) :
        - importez le module,
        - appelez votre fonction avec diff√©rentes valeurs,
        - affichez les r√©sultats.

        :::

        ---

        :::info Exercice -

        :::

        ---

        :::info Exercice -

        :::

    </TabItem>

</Tabs>